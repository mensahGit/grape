<!--
<div class="jumbotron">
  <button class="btn btn-primary" type="button" *ngFor="let book of books">
      {{book.theme}} <span class="badge">1</span>
  </button>
</div>



<button (click)="getBooks()" class="button">Add Book</button>
-->

<!-- <h1>
  {{title}}
</h1> -->
<div class="totalwrapper">
<div class="jumbotron text-center">

<a href="https://mensahgit.github.io/kodotest/">  

<img src ="http://www.mensahdesigns.com/images/logoTeeth.png" alt="logoTeeth" width="165px" height="128px">
</a>
  <h1>KODOSUICHA DB APP:</h1>
  <p>MENSAHDESIGNS | CREATIVELY.</p>
</div>

<div class="container">

<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="http://www.designerphotomontage.com/images/bg1.jpg" alt="Butterfly">
    </div>

    <div class="item">
      <img src="http://www.designerphotomontage.com/images/bg2.jpg" alt="Actionscript">
    </div>

    <div class="item">
      <img src="http://www.designerphotomontage.com/images/bg3.jpg" alt="Chile">
    </div>

    <div class="item">
      <img src="http://www.designerphotomontage.com/images/bg4.jpg" alt="Wolf">
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<!--<div class="navbar navbar-default">
    <div class="row">
          <div class="navbar-left">
            <ul class="nav navbar-nav">
              <li class=""><a href="http://localhost:4200">MENSAHDESIGNS</a></li>
              </ul>
          </div>
            <div class="navbar-text navbar-left">
              <h2>KODOSUICHA:DB APP</h2>
            </div>
    </div>
</div>-->
<br>

<div class="row">

  <div class="col-sm-6">
    <button (click)="changeState('add')"class="button">Add Book</button>
  </div>
  <div class="col-sm-6">
    <label class="filterlabel">Filter Theme
      <select (change)="filterTheme (filteredTheme.value)" #filteredTheme>
        <option value="0">Select</option>
        <option *ngFor="let book of books" value="{{book.theme}}">{{book.theme}}</option>
      </select>
    </label>
  </div>
</div>

<!-- ADD FORM -->
<div *ngIf="appState == 'add' " class="row">
  <div class="col-lg-12">
    <h3>Add Book</h3>
    <!-- FORM VARS ORDER MATTERS: KEEP THE SAME ORDER AS FUNCTION -->
      <form (submit)="addBook(
        theme.value,
        issuedate.value,
        month.value,
        year.value,
        coverimg.value,
        objective.value,
        summary.value,
        bio.value,
        firstname.value,
        lastname.value,
        img.value,
        firstname.value
        )">
        <div class="row">
              <div class="col-md-8">
                    <label>Theme:
                        <input type="text" placeholder="Theme" #theme>
                    </label>
              </div>
              <div class="col-md-4">
                    <label>Issue Date:
                        <input type="text" placeholder="Issue Date" #issuedate>
                    </label>
              </div>
        </div>

 <div class="row">
          <div class="col-md-8">
            <label>Month:
              <input type="text" placeholder="Month" #month>
            </label>
          </div>
          <div class="col-md-4">
            <label>Year
              <textarea #year>

              </textarea>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col-md-8">
            <label>Cover Image:
              <input type="text" placeholder="Cover Image" #coverimg>
            </label>
          </div>
          <div class="col-md-4">
            <label>Objective:
              <input type="text" placeholder="Objective" #objective>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col-md-8">
            <label>Summary
              <input type="text" placeholder="Summary" #summary>
            </label>
          </div>
          <div class="col-md-4">
            <label>First Name:
              <input type="text" placeholder="First Name" #firstname>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col-md-4">
            <label>Last Name:
              <input type="text" placeholder="Last Name" #lastname>
            </label>
          </div>
          <div class="col-md-4">
            <label>Author Image:
              <input type="text" placeholder="Author Image" #img>
            </label>
          </div>
          <div class="col-md-4">
            <label>Author Bio:
              <input type="text" placeholder="Author Bio" #bio>
            </label>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <input type="submit" class="btn btn-primary" value="Submit">
          </div>
        </div>

      </form>
  </div>
</div>

<!-- EDIT FORM GOES HERE....-->

<div *ngIf="appState == 'edit' " class="row">
  <div class="editbackground">
<div class="col-md-12">
  <h3>Edit Book</h3>
  <!-- FORM VARS ORDER MATTERS: KEEP THE SAME ORDER AS FUNCTION -->
    <form (submit)="updateBook()">
      <div class="row">
            <div class="col-md-8">
                  <label>Theme
                      <input type="text" [(ngModel)]="activeTheme" name="activeTheme" placeholder="Theme" #theme>
                  </label>
            </div>
            <div class="col-md-4">
                  <label>Issue Date
                         <input type="text" [(ngModel)]="activeIssueDate" name="activeIssueDate" placeholder="Issue Date" #issuedate>
                  </label>
            </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <label>Month
            <input type="text" [(ngModel)]="activeMonth" name="activeMonth" placeholder="Month" #month>
          </label>
        </div>
        <div class="col-md-4">
          <label>Year
            <textarea [(ngModel)]="activeYear" name="activeYear" placeholder="Year" #year>

            </textarea>
          </label>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <label>Cover Image
            <input type="text" [(ngModel)]="activeCoverImage" name="activeCoverImage" placeholder="Cover Image" #coverimg>
          </label>
        </div>
        <div class="col-md-4">
          <label>Objective
            <input type="text" [(ngModel)]="activeObjective" name="activeObjective" placeholder="Objective" #objective>
          </label>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <label>Summary
            <input type="text" [(ngModel)]="activeSummary" name="activeSummary" placeholder="Summary" #summary>
          </label>
        </div>
        <div class="col-md-4">
          <label>First Name
            <input type="text" [(ngModel)]="activeFirstName" name="activeFirstName" placeholder="First Name" #firstname>
          </label>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <label>Last Name
            <input type="text" [(ngModel)]="activeLastName" name="activeLastName"placeholder="Last Name" #lastname>
          </label>
        </div>
        <div class="col-md-4">
          <label>Author Image
            <input type="text" [(ngModel)]="activeAuthorImage" name="activeAuthorImage" placeholder="Author Image" #authorimg>
          </label>
        </div>
        <div class="col-md-4">
          <label>Author Bio
            <input type="text" [(ngModel)]="activeAuthorBio" name="activeAuthorBio" placeholder="Author Bio" #bio>
          </label>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <input type="submit" class="btn btn-info" value="Submit">
        </div>
      </div>

    </form>
</div>
</div> <!-- END .EDITBACKGROUND CLASS DIV  -->
</div>

<div *ngIf="appState == 'extend' " >
  <div class="row">
    <div class="col-md-12">

        <button (click)="changeState('default')" class="btn btn-danger">Go Back</button>

    </div>
  </div>


  <div *ngFor="let book of books">
      <div *ngIf="book.$key == activeKey">
            <div class="row">
                      <div class="col-md-8">
                          <h3>{{book.theme}}</h3>
                          <p>Issue Date: {{book.issuedate}}</p>
                          <p>Year: {{book.year}}</p>
                          <p>Summary: {{book.summary}}</p>
                      </div>
                      <div class="col-md-4">
                          <h4>Book Information</h4>
                          <ul>
                            <li>Theme: {{book.theme}}</li>
                            <li>Issue Date: {{book.issuedate}}</li>
                            <li>Month: {{book.month}}</li>
                            <li>Year: {{book.year}}</li>
                            <li>Cover Image: {{book.coverimg}}</li>
                            <li>Objective: {{book.objective}}</li>
                            <li>Summary: {{book.summary}}</li>
                            <li>ImageTest:
                              <img src="{{book.coverimg}}" style="width:30px;height:30px;">
                            </li>
                            </ul>
                            
                      </div>

            </div>
      </div>
  </div>
  
</div>

<div class="row">
  <div class="col-md-12">
    <div *ngIf="books">
      <table>
        <thead>
          <tr>
            <th>Theme:</th>
            <th>Issue Date:</th>
            <th>Year:</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let book of books">
            <td><h1>{{book.theme}}</h1></td>
            <td><h1>{{book.issuedate}}</h1></td>
            <td><h1>{{book.year}}</h1></td>
            <td>
              <button (click)="changeState('extend', book.$key)"class="btn btn-primary">More</button>
              <button (click)="showEdit(book)" class="btn btn-warning">Edit</button>
              <button (click)="deleteBook(book.$key)" class="btn btn-danger">Delete</button>

            </td>
          </tr>
        </tbody>
      </table>
  </div>
</div>
</div>




</div> <!-- END CONTAINER DIV -->

</div> <!-- END TOTAL WRAPPER DIV -->
